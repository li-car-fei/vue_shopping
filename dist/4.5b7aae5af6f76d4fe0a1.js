(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{12:function(t,s,e){},17:function(t,s,e){"use strict";var c=e(12);e.n(c).a},21:function(t,s,e){"use strict";e.r(s);var c=function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.product?e("div",[e("div",{staticClass:"product"},[e("div",{staticClass:"product-image"},[e("img",{attrs:{src:t.product.image}})]),t._v(" "),e("div",{staticClass:"product-info"},[e("h3",[t._v(t._s(t.product.name))]),t._v(" "),e("div",{staticClass:"product-cost"},[t._v("￥  "+t._s(t.product.cost))]),t._v(" "),e("div",{staticClass:"product-add-cart",on:{click:t.handleAddCart}},[t._v("加入购物车")])])]),t._v(" "),e("div",{staticClass:"product-desc"},[e("h2",[t._v("产品介绍")]),t._v(" "),e("img",{attrs:{src:t.product.imageDetail}})]),t._v(" "),e("div",{staticClass:"product-comments"},[t._l(t.comments,function(s,c){return e("div",{key:c,staticClass:"comments"},[e("div",{staticClass:"comments-username"},[t._v(t._s(s.username)+"评论：")]),t._v(" "),e("div",{staticClass:"comments-content"},[t._v(t._s(s.content))])])}),t._v(" "),e("div",{staticClass:"user-comment"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user_comment,expression:"user_comment"}],staticClass:"user-comment-content",domProps:{value:t.user_comment},on:{input:function(s){s.target.composing||(t.user_comment=s.target.value)}}}),t._v(" "),e("button",{staticClass:"user-comment-submit",attrs:{type:"button"},on:{click:t.comment}},[t._v("评论")])])],2)]):t._e()};c._withStripped=!0;var o={data(){return{id:parseInt(this.$route.params.id),product:null,comments:[],user_comment:""}},methods:{getProduct(){setTimeout(()=>{this.product=this.$store.state.productList.find(t=>t.id===this.id),this.comments=this.product.comments},300)},handleAddCart(){this.$store.dispatch("add",this.id).then(t=>{},t=>{window.alert(t)})},comment(){const t=this.user_comment,s=this.id;this.$store.commit("addComment",{product_id:s,content:t}),this.user_comment=""}},mounted(){this.getProduct()}},i=(e(17),e(3)),n=Object(i.a)(o,c,[],!1,null,"5ca52776",null);n.options.__file="src/views/product.vue";s.default=n.exports}}]);